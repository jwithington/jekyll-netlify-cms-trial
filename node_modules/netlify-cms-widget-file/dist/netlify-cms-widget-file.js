!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types"),require("netlify-cms-ui-default"),require("react-emotion"),require("react-immutable-proptypes")):"function"==typeof define&&define.amd?define("netlify-cms-widget-file",["react","prop-types","netlify-cms-ui-default","react-emotion","react-immutable-proptypes"],t):"object"==typeof exports?exports["netlify-cms-widget-file"]=t(require("react"),require("prop-types"),require("netlify-cms-ui-default"),require("react-emotion"),require("react-immutable-proptypes")):e["netlify-cms-widget-file"]=t(e.react,e["prop-types"],e["netlify-cms-ui-default"],e["react-emotion"],e["react-immutable-proptypes"])}(window,function(e,t,n,r,o){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t,n){var r=n(6),o=n(7);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[i+u]=a[u];return t||o(a)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),u=n(4),s=n.n(u),l=n(3),c=n.n(l),p=n(5),d=n.n(p),f=n(2);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=50,h=c()("div",{target:"e1awjdnj0"})("display:flex;"),y=c()("div",{target:"e1awjdnj1"})("width:155px;height:100px;margin-right:20px;"),v=c()("img",{target:"e1awjdnj2"})("width:100%;height:100%;object-fit:cover;border-radius:",f.lengths.borderRadius,";"),b=c()("div",{target:"e1awjdnj3"})("button:not(:first-child){margin-top:12px;}"),j=c()("span",{target:"e1awjdnj4"})("display:block;font-size:16px;margin-bottom:20px;"),x=c()("button",{target:"e1awjdnj5"})(f.buttons.button,";",f.components.textBadge,";display:block;"),w=c()("button",{target:"e1awjdnj6"})(f.buttons.button,";",f.components.textBadgeDanger,";display:block;");function C({forImage:e}={}){var t,n;return n=t=class extends o.a.Component{constructor(t){super(t),m(this,"handleChange",t=>{const n=this.props,r=n.field,o=n.onOpenMediaLibrary;return t.preventDefault(),o({controlID:this.controlID,forImage:e,privateUpload:r.get("private")})}),m(this,"handleRemove",e=>(e.preventDefault(),this.props.onChange(""))),m(this,"renderFileName",()=>{const e=this.props.value,t=g;return!e||e.length<=t?e:`${e.substring(0,t/2)}â€¦${e.substring(e.length-t/2+1,e.length)}`}),m(this,"renderSelection",t=>{const n=this.renderFileName(),r=this.props,i=r.getAsset,a=r.value;return o.a.createElement(h,null,e?o.a.createElement(y,null,o.a.createElement(v,{src:i(a)})):null,o.a.createElement(b,null,o.a.createElement(j,null,n),o.a.createElement(x,{onClick:this.handleChange},"Choose different ",t),o.a.createElement(w,{onClick:this.handleRemove},"Remove ",t)))}),m(this,"renderNoSelection",(e,t)=>o.a.createElement(x,{onClick:this.handleChange},"Choose ",t," ",e)),this.controlID=d()()}shouldComponentUpdate(e){if(this.props.value!==e.value)return!0;const t=e.mediaPaths.get(this.controlID);return!(!t||e.value===t)}componentDidUpdate(){const e=this.props,t=e.mediaPaths,n=e.value,r=e.onRemoveInsertedMedia,o=e.onChange,i=t.get(this.controlID);i&&i!==n?o(i):i&&i===n&&r(this.controlID)}render(){const t=this.props,n=t.value,r=t.classNameWrapper,i=e?"image":"file",a=e?"an":"a";return o.a.createElement("div",{className:r},o.a.createElement("span",null,n?this.renderSelection(i):this.renderNoSelection(i,a)))}},m(t,"propTypes",{field:a.a.object.isRequired,getAsset:a.a.func.isRequired,mediaPaths:s.a.map.isRequired,onAddAsset:a.a.func.isRequired,onChange:a.a.func.isRequired,onRemoveInsertedMedia:a.a.func.isRequired,onOpenMediaLibrary:a.a.func.isRequired,classNameWrapper:a.a.string.isRequired,value:a.a.node}),m(t,"defaultProps",{value:""}),n}const q=({value:e,getAsset:t})=>o.a.createElement(f.WidgetPreviewContainer,null,e?o.a.createElement("a",{href:t(e)},e):null);q.propTypes={getAsset:a.a.func.isRequired,value:a.a.node};var R=q;n.d(t,"FileControl",function(){return E}),n.d(t,"withFileControl",function(){return C}),n.d(t,"FilePreview",function(){return R});const E=C()}])});
//# sourceMappingURL=netlify-cms-widget-file.js.map